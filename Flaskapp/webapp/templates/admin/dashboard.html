{% extends 'Base.html' %}

{% block title %} Admin | Dashboard {% endblock %}

{% block content %}
<section>
    {% include 'include/sidebar.html' %}  
</section>
<section>
    <div class="main-dash">
        <section class="topbar">
            <div class="toggle">
                <ion-icon name="menu-outline"></ion-icon>
            </div>
            <div class="find">
                <label>
                    <input type="text" placeholder="Search Here.">
                    <ion-icon name="search-outline"></ion-icon>
                </label>
            </div>
            <div class="user" id="user">
                <span>{{ current_user.username }}</span>
                <img src="../static/images/admin.png" alt="">
            </div>
        </section>
        <section class="card-box">
            <div class="card" data-tilt>
                <div>
                    <div class="figures">{{ users | length }}</div>
                    <div class="title">Total Users</div>
                </div>
                <div class="icontitle">
                    <ion-icon name="people-outline"></ion-icon>
                </div>
            </div>
            <div class="card" data-tilt>
                <div>
                    <div class="figures">{{ users | length }}</div>
                    <div class="title">New Users</div>
                </div>
                <div class="icontitle">
                    <ion-icon name="person-add-outline"></ion-icon>
                </div>
            </div>
            <div class="card" data-tilt>
                <div>
                    <div class="figures">{{ auth | length }}</div>
                    <div class="title">Confirmed Users</div>
                </div>
                <div class="icontitle">
                    <ion-icon name="checkmark-circle-outline"></ion-icon>
                </div>
            </div>
            <div class="card" data-tilt>
                <div>
                    <div class="figures">{{ feed | length }}</div>
                    <div class="title">Feedback</div>
                </div>
                <div class="icontitle">
                    <ion-icon name="chatbubble-outline"></ion-icon>
                </div>
            </div>
            <div class="card" data-tilt>
                <div>
                    <div class="figures">{{ auth | length }}</div>
                    <div class="title">Model Calls</div>
                </div>
                <div class="icontitle">
                    <ion-icon name="cog-outline"></ion-icon>
                </div>
            </div>
            <div class="card" data-tilt>
                <div>
                    <div class="figures">87%</div>
                    <div class="title">Model Accuracy</div>
                </div>
                <div class="icontitle">
                    <ion-icon name="fitness-outline"></ion-icon>
                </div>
            </div>
        </section>
        <section class="mezas">
            <div class="user-tab">
                <div class="tab-header">
                    <h2>System Users</h2>
                    <a href="" class="btn">View all</a>
                </div>    
                <div>
                    <table >
                        <thead>
                            <tr>
                                <th>Id</th>
                                <th>Email</th>
                                <th>Username</th>
                                <th>Joined</th>
                                <th>Confirmed</th>
                                <th>Interactions</th>                                   
                            </tr>
                        </thead>
                        <tbody>
                            {% for user in users %}
                            <tr>
                                <td>{{ user.id }}</td>
                                <td>{{ user.email }}</td>
                                <td>{{ user.username }}</td>
                                <td>{{ user.date_created }}</td>
                                {% if user.confirmed == 1 %}
                                <td><span class="very">{{ user.confirmed }} </span></td>
                                {% else %}
                                <td ><span class="not">{{ user.confirmed }}</span></td>
                                {% endif %}
                                <td>{{ user.role_id }}</td>
                            </tr>
                            {% endfor %}
                        </tbody>
                    </table>
                </div>  
            </div>
            <div class="feat-tab">
                <div class="header">
                    <h2>Submited Features.</h2>
                    <a href="">View All</a>                    
                </div>
                <div class="table_body">
                    <table>
                        <thead>
                            <tr>
                                <th>Id</th>
                                <th>Country</th>
                                <th>Age Group</th>
                                <th>Total People</th>
                                <th>Travel Companion</th>
                                <th>Purpose</th>
                                <th>Main Activity</th>
                                <th>Information Source</th>
                                <th>Tour Arrangement</th>
                                <th>First Trip</th>
                                <th>Predicted Category</th>
                                <th>Probability</th>
                                <th>User Id</th>
                            </tr>
                        </thead>
                        <tbody>
                            {% for feature in features %}
                            <tr>
                                <td>{{ feature.id }}</td>
                                <td>{{ feature.country }}</td>
                                <td>{{ feature.age_group }}</td>
                                <td>{{ feature.total_male + feature.total_female }}</td>
                                <td>{{ feature.travel_with }}</td>
                                <td>{{ feature.purpose }}</td>
                                <td>{{ feature.main_activity }}</td>
                                <td>{{ feature.info_source }}</td>
                                <td>{{ feature.tour_arrangement }}</td>
                                <td>{{ feature.first_trip_tz }}</td>
                                <td>{{ feature.predicted_category }}</td>
                                <td>{{ feature.probability }} %</td>
                                <td>{{ feature.user_id }}</td>
                            </tr>
                            {% endfor %}
                        </tbody>
                    </table>                                    
                </div>
            </div>                              
        </section>
        <section class="stand-alone">
            <div class="feed-tab">
                <div class="header">
                    <h2>User Feedback.</h2>
                    <a href="">View All.</a>
                </div>
                <div class="table_body">
                    <table>
                        <thead>
                            <tr>
                                <th>Id</th>
                                <th>Feedback</th>
                                <th>Sentiment</th>
                                <th>Probability</th>
                                <th>User_id</th>
                                <th>Date</th>
                            </tr>
                        </thead>
                        <tbody>
                            {% for feed in feedback %}    
                            <tr>
                                <td>{{ feed.id }}</td>
                                <td>{{ feed.feed | truncate(100, true, '......') }}</td>
                                {% if feed.sentiment == 'Positive' %}
                                <td class="data">
                                    <span class="Positive">{{ feed.sentiment }}</span>
                                </td>
                                {% elif feed.sentiment == 'Negative' %}
                                <td class="data">
                                    <span class="Negative">{{ feed.sentiment }}</span>
                                </td>
                                {% endif %}
                                <td>{{ feed.probability }} %</td>
                                <td>{{ feed.user_id }}</td>
                                <td>{{ feed.date }}</td>
                            </tr>
                            {% endfor %}
                        </tbody>
                    </table>                                    
                </div>
            </div>                   
        </section>
    </div>
</section>
<!-- <div class="dashboard-container">
    <section class="dashboard">
        <div class="navigation">
            <div class="bino">
                <div class="bino-search">
                    <i class="fa fa-search"></i>
                    <input type="text" name="" id="search" placeholder="Search">
                </div>
                <div class="prof">
                    <i class="fa fa-bell"></i>
                    <div class="main" id="user">
                        <img src="../static/images/admin.png" alt="">
                        <a href="{{ url_for('.profile') }}">{{ current_user.username }}</a>                        
                    </div>
                </div>
            </div>
        </div>
        <nav class="top-nav">
            <div class="kinda-nav">
                <div id="reports">
                    <div class="reportss">
                        <i class="fa fa-chart-bar"></i>
                        <a href="{{ url_for('/letsgo/admin/dashboard/') }}">
                            Reports
                        </a>
                    </div>                    
                </div>
                <div>
                    <div class="model" id="model">
                        <i class="fa fa-line-chart"></i>
                        <a href="{{ url_for('.reports') }}">Model Performance</a>
                    </div>                    
                </div>     
                <div>
                    <div class="sema" id="sema">
                        <i class="fa fa-comments"></i>                    
                        <a href="{{ url_for('.feedback') }}">Feedback</a>
                    </div>                    
                </div>                   
                <div id="users">
                    <div class="users" >
                        <i class="fa fa-users"></i>
                        <a href="{{ url_for('.users') }}">Users</a>
                    </div>                    
                </div>
            </div>
        </nav>
        <div class="dashboard-panel">
            <div class="row">
                <div class="col-md-6">
                    <div class="row">
                        <div class="prof">
                            <div class="user" id="user">
                                <a href="{{ url_for('.profile') }}">{{ current_user.username }}</a>
                                <i class="fa fa-user-circle"></i>
                            </div>
                        </div>
                    </div>
                    <div class="row cards">
                        <div class="col-sm-6">
                            <div class="sys-users">
                                <i class="fa fa-users"></i>
                                <h3>Total Users: <strong>{{ users | length }}</strong></span></h3>
                                <h4>Verified: {{ auth | length }}</h4>
                                <h4>Unverified: {{ unveri | length }}</h4>
                                <h4>Anonymous: {{ anony | length }}</h4>
                            </div>                            
                        </div>
                        <div class="col-sm-6">
                            <div class="model-calls">
                                <h3>Model Calls: 627</h3>
                                <h4>Model Accuracy: 87%</h4>
                                <h4>Drifting Rate: 2%</h4>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="col-md-6">
                    <div class="admin-tab">
                        <div class="tab">
                            <div class="user-tab">
                                <div class="header">
                                    <caption>System users over the time.</caption>
                                </div>
                                <div class="table_body">
                                    <table >
                                        <thead>
                                            <tr>
                                                <th>Id</th>
                                                <th>Email</th>
                                                <th>Username</th>
                                                <th>Joined</th>
                                                <th>Confirmed</th>
                                                <th>Interactions</th>                                   
                                            </tr>
                                        </thead>
                                        <tbody>
                                            {% for user in users %}
                                            <tr>
                                                <td>{{ user.id }}</td>
                                                <td>{{ user.email }}</td>
                                                <td>{{ user.username }}</td>
                                                <td>{{ user.date_created }}</td>
                                                {% if user.confirmed == 1 %}
                                                <td><span class="very">{{ user.confirmed }} </span></td>
                                                {% else %}
                                                <td ><span class="not">{{ user.confirmed }}</span></td>
                                                {% endif %}
                                                <td>{{ user.role_id }}</td>
                                            </tr>
                                            {% endfor %}
                                        </tbody>
                                    </table>                                      
                                </div>
                                
                            </div>                            
                        </div>
                        <div class="tab">
                            
                        </div>
                        <div class="tab">
                                 
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>
</div> -->
{% endblock %}

