{% extends 'base.html' %}
{% import 'macros/auth.html' as macro %}

{% block title %}LetsGo | Profile Edit{% endblock %}

{% block content %}
{% include 'include/navigation.html' %}
<section class="edit-profile">
    <div class="profile-items">
        <div class="item1">
            <h1>Edit your profile.</h1>
            <img src="{{ current_user.gravatar(100) }}" alt="{{ current_user.username }}" title="{{ current_user.username }} avatar.">
            <form action="{{ url_for('suser.update', username=current_user.username) }}" method="POST">
                {{ form.hidden_tag() }}
                {% for field in form %}
                {% if field.widget.input_type != 'hidden' %}
                    {% if field.type != 'TextAreaField' %}
                    <div class="block">
                        {{ field.label }}
                        {{ field(class_='field', placeholder=field.label.text) }} 
                        {% for e in field.errors %}
                            <span class="help-block">{{ e }}</span>
                        {% endfor %}
                    </div>
                    {% else %}
                    <div class="block">
                        {{ field.label }}
                        {{ field(class_='field', id_='text-area', placeholder=field.label.text) }}
                            {% for e in field.errors %}
                        <p class="help-block">{{ e }}</p>
                        {% endfor %}
                    </div>
                    {% endif %}
                {% endif %}
                {% endfor %}
                <div class="buttons">
                    <a class="btn btn-secondary" onclick="goBack()">Back</a>
                    <button class="btn btn-success" type="submit">Update Profile</button>
                </div>
            </form>       
        </div>
        <div class="item2">

        </div>
    </div>
</section>
<script>
    function goBack(){
        window.history.back()
    }
</script>

{% endblock %}