{% extends 'base.html' %}
{% import 'macros/auth.html' as macro %}

{% block title %}LetsGo | {{ user.username }} Profile  {% endblock %}

{% block content %}	
<section class="admin-edit">
	<div class="user-profile">
		<div class="header">
			<h2>{{ user.username }} Profile</h2>
		</div>
		<div class="user-wrapper">
			<div class="over">
				{% if user.gravatar() %}
					<img src="{{ user.gravatar(size=100) }}" alt="Profile">
				{% else %}
					<ion-icon name="person-outline"></ion-icon>
				{% endif %}
				<div class="cred">
					<h4>Username: <span>{{ user.username }}</span></h4>
					<h4>Email:  <span><a href="mailto: {{ user.email }}" target="_top">{{ user.email }}</a></span></h4>					
				</div>				
			</div>
			<div class="edit-form">
				<form action="{{ url_for('.update_profile', username=user.username) }}" method="post">
					{{ form.hidden_tag() }}
					{% for field in form %}
						{% if field.widget.input_type != 'hidden' %}
							{% if field.type != 'BooleanField' %}
							<div class="fields">
								<label>
									{{ field.label }}
								</label>
								<div class="input-area">
									{{ field(class_='input') }}	
								</div>		
								{% if field.errors %}
									{% for e in field.errors %}
										<p class="help-block">{{ e }}</p>
									{% endfor %}
								{% endif %}		
							</div>
							{% else %}
								<label>
									{{ field.label }}
									{{ field }}
								</label>
							{% endif %}
						{% endif %}
					{% endfor %}
					<div class="submit">
						<button type="submit" class="update-btn">Update</button>
					</div>					
				</form>				
			</div>
		</div>
	</div>
</section>
{% endblock %}